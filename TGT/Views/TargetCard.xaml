<UserControl x:Class="TGT.Views.TargetCard"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:i="http://schemas.microsoft.com/xaml/behaviors">

    <Border Background="#112233" CornerRadius="6" Margin="6" Padding="10">
        <i:Interaction.Triggers>
            <i:EventTrigger EventName="PreviewMouseLeftButtonUp">
                <i:InvokeCommandAction Command="{Binding DataContext.SelectTargetCommand,
                                                        RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                                       CommandParameter="{Binding}" />
            </i:EventTrigger>
        </i:Interaction.Triggers>

        <StackPanel>
            <TextBlock Text="{Binding Id}" Foreground="White" FontWeight="Bold" FontSize="14"/>
            <TextBlock Text="{Binding DetectedType, StringFormat='모델: {0}'}" Foreground="White"/>
            <TextBlock Text="{Binding Speed, StringFormat='속도: {0} m/s'}" Foreground="White"/>
            <TextBlock Text="{Binding CurYawDisplay, StringFormat='Yaw: {0} m/s'}" Foreground="White"/>
            <TextBlock Text="{Binding Altitude, StringFormat='고도: {0} m'}" Foreground="White" Margin="0,0,0,6"/>

            <TextBlock Text="{Binding CurLocDisplay, StringFormat='현재위치: {0}'}" Foreground="White"/>
            <TextBlock Text="{Binding EndLocDisplay, StringFormat='목표위치: {0}'}" Foreground="White"/>
            <TextBlock Text="{Binding IsDetected, StringFormat='탐지여부: {0}'}" Foreground="White"/>
            <Button Content="시작"
                    Command="{Binding DataContext.StartTargetCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                    CommandParameter="{Binding}"
                    Background="#007ACC"
                    Foreground="White"
                    Margin="0,6,0,0"/>
            <Button Content="삭제"
                    Command="{Binding DataContext.RemoveTargetCommand, RelativeSource={RelativeSource AncestorType=ItemsControl}}"
                    CommandParameter="{Binding}"
                    Grid.Column="1"
                    Background="#B30000"
                    Foreground="White"
                    Margin="10,0,0,0"
                    Padding="4,2"/>
        </StackPanel>
        
    </Border>
</UserControl>